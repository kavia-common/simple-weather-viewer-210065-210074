{"is_source_file": true, "format": "JavaScript", "description": "This file defines a WeatherService module for a frontend application that fetches weather data either from the OpenWeatherMap API or returns mock data in case of missing API key. It provides functions to check for mock mode and to retrieve current weather information by city name, including validation, error handling, and normalization of API responses.", "external_files": ["fetch (browser API)"], "external_methods": ["fetch"], "published": ["isMockMode", "getCurrentWeatherByCity"], "classes": [], "methods": [{"name": "isMockMode()", "description": "Returns true if no API key is present, indicating that the application should use mock data instead of real API calls.", "scope": "", "scopeKind": ""}, {"name": "getCurrentWeatherByCity(city)", "description": "Fetches current weather data for a specified city. Uses real API if API key is available; otherwise returns deterministic mock data. Handles errors and normalizes API response.", "scope": "", "scopeKind": ""}], "calls": ["isMockMode()", "fetch(url)"], "search-terms": ["WeatherService", "fetchCurrentWeather", "mock mode", "OpenWeatherMap API integration", "weather data normalization", "city weather fetch"], "state": 2, "file_id": 16, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_KEY", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^const API_KEY = process.env.REACT_APP_OPENWEATHER_API_KEY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^const BASE_URL = \"https:\\/\\/api.openweathermap.org\\/data\\/2.5\\/weather\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Clear", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^      Clear: \"01d\",$/", "language": "JavaScript", "kind": "property", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class"}, {"_type": "tag", "name": "Clouds", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^      Clouds: \"02d\",$/", "language": "JavaScript", "kind": "property", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class"}, {"_type": "tag", "name": "Drizzle", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^      Drizzle: \"09d\",$/", "language": "JavaScript", "kind": "property", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class"}, {"_type": "tag", "name": "Mist", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^      Mist: \"50d\",$/", "language": "JavaScript", "kind": "property", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class"}, {"_type": "tag", "name": "Rain", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^      Rain: \"10d\",$/", "language": "JavaScript", "kind": "property", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class"}, {"_type": "tag", "name": "Snow", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^      Snow: \"13d\",$/", "language": "JavaScript", "kind": "property", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class"}, {"_type": "tag", "name": "Thunderstorm", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^      Thunderstorm: \"11d\",$/", "language": "JavaScript", "kind": "property", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class"}, {"_type": "tag", "name": "getCurrentWeatherByCity", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^export async function getCurrentWeatherByCity(city) {$/", "language": "JavaScript", "kind": "function", "signature": "(city)"}, {"_type": "tag", "name": "iconMap", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^    const iconMap = {$/", "language": "JavaScript", "kind": "class", "scope": "getCurrentWeatherByCity", "scopeKind": "class"}, {"_type": "tag", "name": "isMockMode", "path": "/home/kavia/workspace/code-generation/simple-weather-viewer-210065-210074/weather_app_frontend/src/services/WeatherService.js", "pattern": "/^export function isMockMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "ab95154947ceef4e36b3a8726d60f971", "format-version": 4, "code-base-name": "weather_app_frontend", "filename": "weather_app_frontend/src/services/WeatherService.js", "fields": [{"name": "Clear: \"01d\",", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Clouds: \"02d\",", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Drizzle: \"09d\",", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Mist: \"50d\",", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Rain: \"10d\",", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Snow: \"13d\",", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Thunderstorm: \"11d\",", "scope": "getCurrentWeatherByCity.iconMap", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}